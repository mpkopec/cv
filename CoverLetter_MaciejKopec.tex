% !TeX spellcheck = en_US
\documentclass[11pt,a4paper,sans]{article}

%% Character encoding
\usepackage[utf8]{inputenc}
\usepackage{graphicx}

\linespread{1.10}

% Uncomment only one font
%\usepackage[default]{comfortaa}
%\usepackage[sfdefault]{ClearSans}
%\usepackage[sfdefault]{roboto}
\usepackage{paratype}
\usepackage[T1]{fontenc}
\renewcommand\familydefault{\sfdefault}
\usepackage{noindentafter}
\pagestyle{empty}
\usepackage{textgreek}

% Underlining
\usepackage{contour}
\usepackage[normalem]{ulem}

\renewcommand{\ULdepth}{1.8pt}
\contourlength{0.8pt}

\newcommand{\myuline}[1]{%
	\uline{\phantom{#1}}%
	\llap{\contour{white}{#1}}%
}

% Japanese
\usepackage{CJKutf8}

% Russian
%\usepackage[russian]{babel}

%% Adjust the page margins
\usepackage[margin=1.8cm]{geometry}

% Counters, iterables, ifs
\usepackage{etoolbox}
\usepackage{xifthen}

% URLs
\usepackage{xcolor}
\usepackage{hyperref}
\hypersetup{
	colorlinks,
	linkcolor=black,
	citecolor=black,
	urlcolor=black,
}

% Horizontal lines
\newcommand{\fullhorline}[1]{\noindent\makebox[\linewidth]{\rule{\paperwidth}{#1}}}
\newcommand{\twhorline}[1]{\noindent\makebox[\linewidth]{\rule{\textwidth}{#1}}}

\makeatletter
\def\vhrulefill#1{\leavevmode\leaders\hrule\@height#1\hfill \kern\z@}
\makeatother

% Formatting sections
\usepackage{titlesec}
\titleformat{\section}{\vspace{-\baselineskip}\bfseries\LARGE}{}{0pt}{}[]

% CV commands
\newcommand{\cvedudateitem}[6]{
	
	\noindent
	\begin{minipage}[t]{0.22\linewidth}
		#1
	\end{minipage}
	\hfill
	\begin{minipage}[t]{0.76\linewidth}
		{\bfseries #2} | #3 | #4\\
		\textbf{#5} | Thesis: \emph{#6}
	\end{minipage}
	\vspace{1\baselineskip}
	
	%	\hfill{\vrule width 1pt}\hfill
	%	\begin{minipage}[t]{.92\linewidth}
	%		\textbf{#5}, Thesis: \emph{#6}
	%	\end{minipage}
	%	\vspace{1\baselineskip}
}

\newcommand{\cvexpdateslimitem}[3]{
	
	\noindent
	\begin{minipage}[t]{0.22\linewidth}
		#1
	\end{minipage}
	\hfill
	\begin{minipage}[t]{0.76\linewidth}
		{\bfseries #2} | #3
	\end{minipage}
	\vspace{.35\baselineskip}
	
}

\newcommand{\cvexpdateitem}[4]{
	\ifthenelse{\isempty{#4}}
	{\cvexpdateslimitem{#1}{#2}{#3}}{
		
		\noindent
		\begin{minipage}[t]{0.21\linewidth}
			#1
		\end{minipage}
		\hfill
		\begin{minipage}[t]{0.766\linewidth}
			{\bfseries #2} | #3
		\end{minipage}
		
		\vspace{0.35\baselineskip}
		\hfill{\vrule width 1pt}\hfill
		\begin{minipage}[t]{.92\linewidth}
			#4
		\end{minipage}
		\vspace{1\baselineskip}
}}

\newcommand{\cvexpdatecompactitem}[4]{
	\ifthenelse{\isempty{#4}}
	{\cvexpdateslimitem{#1}{#2}{#3}}{
		
		\noindent
		\begin{minipage}[t]{0.21\linewidth}
			#1
		\end{minipage}
		\hfill
		\begin{minipage}[t]{0.766\linewidth}
			{\bfseries #2} | #3
		\end{minipage}
		
		\vspace{0.35\baselineskip}
		\hfill{\vrule width 1pt}\hfill
		\begin{minipage}[t]{.92\linewidth}
			#4
		\end{minipage}
		\vspace{.35\baselineskip}
}}

\newcommand{\cvartitem}[3]{
	
	\noindent
	\begin{minipage}[t]{0.21\linewidth}
		#1
	\end{minipage}
	\hfill
	\begin{minipage}[t]{0.766\linewidth}
		#2\ifthenelse{\isempty{#3}}{}{, \emph{#3}}
	\end{minipage}
	\vspace{.35\baselineskip}
}

\newcommand{\cvskillsitem}[2]{
	
	\noindent
	\begin{minipage}[t]{0.21\linewidth}
		\vfill#1\vfill
	\end{minipage}
	\hfill
	\begin{minipage}[t]{0.766\linewidth}
		\vfill#2\vfill
	\end{minipage}
	\vspace{.35\baselineskip}
}

% Job title list
\listcsgadd{JobTitleList}{Electronics engineer}
\listcsgadd{JobTitleList}{Embedded software and FPGA enthusiast}
\listcsgadd{JobTitleList}{DIY advocate}

%% Personal data
\newcommand{\firstname}{Maciej Paweł}
\newcommand{\familyname}{Kopeć}

\newcommand{\address}{Na Popielówkę 75P/2, 32-087 Zielonki, Poland}
\newcommand{\mobile}{+48 515 083 938}
\newcommand{\email}{maciej.p.kopec [at] gmail.com}
\newcommand{\github}{\href[]{https://github.com/mpkopec}{mpkopec}}
\newcommand{\linkedin}{\href{https://www.linkedin.com/in/maciej-kope\%C4\%87-46735595/}{Maciej Kopeć}}

% Addressed to info
\newcommand{\toname}{dr~hab.~inż.~prof.~AGH\\Bartosz Mindur}
\newcommand{\toinstitution}
{Faculty of Physics and Applied Computer Science,\\
AGH University of Science\linebreak and Technology}
\newcommand{\toinstaddress}{ul.~Reymonta~19\\30-059 Kraków}

% Common macros
\newcommand{\iic}{I\textsuperscript{2}C}

%%------------------------------------------------------------------------------
%% Content
%%------------------------------------------------------------------------------
\begin{document}
	% Begin header part
	\begin{center}
		% Name and familyname
		{\Huge \firstname \space \bfseries \familyname \normalfont, MSc}
		\vspace{1\baselineskip}
		%\twhorline{1pt}
		
		% Printing job title list
		\large
		\renewcommand*{\do}[1]{$\bullet$ #1 }
		\dolistcsloop{JobTitleList}$\bullet$
		\vspace{0.2\baselineskip}
		\twhorline{1pt}
		
		% Contact info
		\vspace{0.25\baselineskip}
		\includegraphics[height=0.8em]{img/icons8-home-96.png}
		\address \space |
		\includegraphics[height=0.8em]{img/icons8-envelope-96.png}
		\email \\
		
		\includegraphics[height=0.8em]{img/icons8-iphone-96.png}
		\mobile \space |
		\includegraphics[height=0.8em]{img/icons8-github-96.png}
		\github \space |
		\includegraphics[height=0.8em]{img/icons8-linkedin-96.png}
		\linkedin
		
		\twhorline{1pt}
		
		\vspace{2\baselineskip}
		
		\hfill
		\setlength{\fboxrule}{1pt}
		\begin{minipage}{0.4\textwidth}
			\begin{flushleft}
				{\bfseries\toname}\\\vspace{0.5\baselineskip}
				\emph{\toinstitution}\\\vspace{0.5\baselineskip}
				\toinstaddress
			\end{flushleft}
		\end{minipage}
		\vspace{2\baselineskip}
		
		{\bfseries\Huge Motivation letter}
	\end{center}

	% Content
	\noindent
	Dear Sir,
	\vspace{1\baselineskip}
	
	I would like to~express my~interest in~the~PhD position opening, published 
	on~\href{https://euraxess.ec.europa.eu/jobs/485237}{Euraxess}, for~the~research project
	entitled `A reconfigurable detector for~measuring the~spatial distribution 
	of~radiation dose for~applications in~the~preparation of~individual patient treatment
	plans'. The~description further states following expertise requirements `detector physics,
	dedicated front-end electronics and readout systems, PCB design, computer science (data
	analysis), machine/deep learning'. As~an~electronics engineer with interests in~embedded 
	systems design and~programming, I~believe I~am the~ideal candidate for~the~position offer.
	
	Such a~complex project will need an~efficient digital 
	readout	system. At~CERN I~was working on~a~system, which~might have had similar requirements. 
	I~was responsible 
	for~implementing a~1$\,$G~ethernet link over optical medium. This involved evaluating
	and~implementing IP~cores, reading and~using technical 
	documentation for~the~FPGA used, configuring the~FPGA and~external auxilliary circuitry. 
	Despite activating only the~lowest layers of~the~OSI model, it~gave me 
	notable knowledge about the~ethernet protocol, as~well~as~fast 
	readout systems in~general. 
	
	Any kind of~readout system, beside the~fast interface for~data acquisition, needs a~slow
	control block for configuring the~transfer rate, additional data appended, clocks, timing~etc. 
	This~kind
	of~module usually has a~slower, simpler digital interface. As~stated in~my~CV, I successfully
	developed a~similar system for the~LHCb experiment upgrade. Implementation involved 
	the~\iic\space 
	protocol, register mapping, clock domain synchronization and~voting
	mechanism for~improved reliability. The~design was afterwards tested in~hardware.
	
	As for~analogue readout and~custom electronics, three projects especially stand~out 
	from~the~course of~my~career. Working at~`Solaris' I~developed a~device, which~enabled 
	converting analogue signal proportional to~the~beam current in~such a~way that~the~signal
	could be fed to~the~LLRF\footnote{Low-Level Radio Frequency} system for fast feedback, indicating 
	when the~beam
	was lost. Main features of~the~device were: offsetting, setting gain and~inverting input signal.
	The~project was implemented after performing simulations and~estimating uncertainties, using 
	high-end analogue components.
	
	Simulation and~data analysis for~this circuit was a~challenge since it involved not only
	checking plots from~the~simulation tool, but~also performing calculations based on~the~time 
	domain raw data. The~biggest part of~said task was estimating uncertainties of~the~real output 
	signal compared to~the~ideal one. This~was done using the~Python programming language
	and~values were presented as~plots of~uncertainty dependent on~other parameters. Further 
	necessary analysis was performed in~a~similar manner.
	
	Preparing this~design I also faced challenges in~the~PCB~design field, when~I~had 
	to~focus on~the~proper power supply layout (which was a~precise, symmetrical
	switching power supply) and~the~analogue conditioning part. Both tasks focused on~minimising 
	PCB~parasitic elements and~ensuring proper high current paths.
	
	Another challenging analogue project was developing a~current source driver for~exciting
	high inductive load. It~was~essential for~the~development of~artificial haptic feedback
	in~one of~the~Merit Innovation Projects~(MIP). Main goals in~this design were to~achieve 
	high rise times (3$\,$A in~0.1$\,$ms) and~a~precise voltage-current transfer function  
	in~time-domain. 
	Desired circuit	topology was first simulated and~then, after~verification, prototyped.  
	Correct component choice unfolded to~be~vital, since a~high current MOSFET transistor 
	was~the~main power 
	element. Gate capacitance of~the~transistor was~high enough to~cause oscillations when improper 
	parts were~used, as~a~result, it~would not be~possible to~meet the~initial requirements. 
	Intending to~make the~driver more reliable, we~designed a~custom 
	over-current protection circuit, which~turned~off the~driver when~integrated current 
	value~exceeded set threshold.
	
	Simulation and~data analysis for~this~project was~also a~vast topic. Firstly, the~simulation
	of~the~complete circuit had to~be checked, which involved comparing and~analysing multiple 
	plots, stimulus scenarios and~worst case situations. After~finishing the~prototypes, we~analysed
	oscilloscope measurements to~assess the~precision of~the~transfer function.
	Finally, we~had to~measure the~haptic feedback feeling, which~was done using an~analogue
	accelerometer. This involved also parsing and~recalculating the~data using the~Python 
	programming	language to~present the~results in~human readable~g-unit.
	
	The project also~included laying out the~PCB. My~main focus areas when doing that were 
	to~properly
	route the~current paths as~well~as pay attention to~the~feedback loop of~the~driver.
	The~layout was even more challenging due to~size reduction of~the~whole device and~high count 
	of~other necessary components. On~a~6~layer~PCB with~rough dimensions of~40~by~50$\,$mm, we~were
	able to~fit not only the~current source, but~also switching power supply for~high current~LEDs,
	LEDs themselves, a~64-pin microcontroller and~a~\mbox{22-pin}~capacitive touch interface. 
	It~is~worth
	mentioning that routing so~many touch signals on~such a~small~PCB was an~additional difficulty,
	since they are very prone to~noise. Despite that, the~project was fully functional.
	
	The~aforementioned project was not the~only analogue design challenge at~Merit. Another 
	interesting one was a~recent
	attempt to~create a~reliable temperature measurement circuit, which would not need calibrating
	in~factory. Such a~design was prepared and~prototyped with success, although the~project is 
	still ongoing. My role was to~first aid the~design applying my knowledge 
	in~the~field of~electronic amplifiers and filters, and~then~help to~analyse the~data gathered
	during prototyping. Here, the~most beneficial was my~knowledge of~uncertainty calculation used 
	to~verify the~measurement process.
	
	I have also designed many more PCBs for my private and university projects, which~gave me
	proficiency in using various tools used to~design such boards, like Altium, Mentor Xpedition
	and~KiCad.
	
	In~conclusion, I~believe that my background and skillset have prepared me to~be a~successful 
	contributing team member in~the~offered position and~for an~organization exactly like 
	yours. I~appreciate your time and~consideration.

	% Signature
	\vspace{1\baselineskip}
	\hfill
	\begin{minipage}{0.3\linewidth}
		\begin{flushleft}
			Yours sincerely,
			\\\vspace{3\baselineskip}
			Maciej Kopeć
		\end{flushleft}
	\end{minipage}
	
\end{document}